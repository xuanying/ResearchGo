$(function(){
    var rank_data = $("#rank_data").text();
    rank_data = '{"Author_Year":[{"Full_Name":"Yoshua","Author_Email":"None","Author_Name":"Yoshua","Author_ID":"None","Author_Level": "R0","Articles_Num":"76","Articles_High":"56","Cited_Num":"46","Cited_High":"36","Belong_Institution":{"Institution":"ARM Inc.","Institution_ID":"None","Institution_Country": "Amarica"}},{"Full_Name":"Bengio","Author_Email":"None","Author_Name":"Bengio","Author_ID":"None","Author_Level": "R0","Articles_Num":"73","Articles_High":"60","Cited_Num":"43","Cited_High":"26","Belong_Institution":{"Institution":"UESTC","Institution_ID":"None","Institution_Country": "China"}},{"Full_Name":"Samy Ben","Author_Email":"None","Author_Name":"Samy Ben","Author_ID":"None","Author_Level": "R1","Articles_Num":"52","Articles_High":"24","Cited_Num":"35","Cited_High":"14","Belong_Institution":{"Institution":"Shanghai Institute of Microsystem","Institution_ID":"None","Institution_Country": "Australia"}},{"Full_Name":"Marcin","Author_Email":"None","Author_Name":"Marcin","Author_ID":"None","Author_Level": "R2","Articles_Num":"46","Articles_High":"34","Cited_Num":"56","Cited_High":"23","Belong_Institution":{"Institution":"Beijing Institute of Computer Science","Institution_ID":"None","Institution_Country": "Amarica"}},{"Full_Name":"Grzegorzek","Author_Email":"None","Author_Name":"Grzegorzek","Author_ID":"None","Author_Level": "R2","Articles_Num":"45","Articles_High":"22","Cited_Num":"34","Cited_High":"25","Belong_Institution":{"Institution":"UESTC","Institution_ID":"None","Institution_Country": "China"}},{"Full_Name":"Xenopoulos","Author_Email":"None","Author_Name":"Xenopoulos","Author_ID":"None","Author_Level": "R3","Articles_Num":"39","Articles_High":"13","Cited_Num":"26","Cited_High":"12","Belong_Institution":{"Institution":"Beijing Institute of Computer Science","Institution_ID":"None","Institution_Country": "Amarica"}}],"Author_All":[{"Full_Name":"Yoshua","Author_Email":"None","Author_Name":"Yoshua","Author_ID":"None","Author_Level": "R0","Articles_Num":"176","Articles_High":"96","Cited_Num":"146","Cited_High":"76","Belong_Institution":{"Institution":"ARM Inc.","Institution_ID":"None","Institution_Country": "Amarica"}},{"Full_Name":"Bengio","Author_Email":"None","Author_Name":"Bengio","Author_ID":"None","Author_Level": "R0","Articles_Num":"145","Articles_High":"80","Cited_Num":"122","Cited_High":"62","Belong_Institution":{"Institution":"UESTC","Institution_ID":"None","Institution_Country": "China"}},{"Full_Name":"Micheal","Author_Email":"None","Author_Name":"Micheal","Author_ID":"None","Author_Level": "R0","Articles_Num":"133","Articles_High":"78","Cited_Num":"111","Cited_High":"66","Belong_Institution":{"Institution":"ARM Inc.","Institution_ID":"None","Institution_Country": "Amarica"}},{"Full_Name":"Samy Ben","Author_Email":"None","Author_Name":"Samy Ben","Author_ID":"None","Author_Level": "R1","Articles_Num":"92","Articles_High":"74","Cited_Num":"75","Cited_High":"64","Belong_Institution":{"Institution":"Shanghai Institute of Microsystem","Institution_ID":"None","Institution_Country": "Australia"}},{"Full_Name":"Grace","Author_Email":"None","Author_Name":"Grace","Author_ID":"None","Author_Level": "R1","Articles_Num":"87","Articles_High":"65","Cited_Num":"75","Cited_High":"56","Belong_Institution":{"Institution":"BAMT","Institution_ID":"None","Institution_Country": "Germany"}},{"Full_Name":"Peter","Author_Email":"None","Author_Name":"Peter","Author_ID":"None","Author_Level": "R1","Articles_Num":"66","Articles_High":"56","Cited_Num":"63","Cited_High":"53","Belong_Institution": { "Institution":"YTMK","Institution_ID":"None","Institution_Country": "Japan"}}],"Journal_Year":[{"Journal":"ACM TON","Journal_Level":"A"},{"Journal":"Proceedings of International Conference","Journal_Level":"B"},{"Journal":"ArXiv","Journal_Level":"B"},{"Journal":"Adaptive computation and machine learning","Journal_Level":"B"},{"Journal":"ICML","Journal_Level":"C"},{"Journal":"Neural Computation","Journal_Level":"C"},{"Journal":"I-Perception","Journal_Level":"C"},{"Journal":"MIOYT","Journal_Level":"D"}],"Journal_All":[{"Journal":"ACM TON","Journal_Level":"A"},{"Journal":"Nature","Journal_Level":"A"},{"Journal":"ICANN","Journal_Level":"A"},{"Journal":"Proceedings of International Conference","Journal_Level":"B"},{"Journal":"ArXiv","Journal_Level":"B"},{"Journal":"Adaptive computation and machine learning","Journal_Level":"B"},{"Journal":"ISMIR","Journal_Level":"C"},{"Journal":"TTSTC","Journal_Level":"C"}],"Institution_Year":[{"Institution": "Hong Kong Polytechnic University","Institution_ID":"None","Institution_Country":"China"},{"Institution": "ARM Inc.","Institution_ID":"None","Institution_Country":"Amarica"},{"Institution": "Beijing Institute of Computer Science","Institution_ID":"None","Institution_Country":"China"},{"Institution": "Shanghai Institute of Microsystem","Institution_ID":"None","Institution_Country":"China"},{"Institution": "UESTC","Institution_ID":"None","Institution_Country":"China"},{"Institution": "University of Jordan","Institution_ID":"None","Institution_Country":"Jordan"}],"Institution_All":[{"Institution":"University of Jordan","Institution_ID":"None","Institution_Country":"Jordan"},{"Institution":"ARM Inc.","Institution_ID":"None","Institution_Country":"Amarica"},{"Institution":"UESTC","Institution_ID":"None","Institution_Country":"China"},{"Institution":"ACS","Institution_ID":"None","Institution_Country":"Germany"},{"Institution":"Hong Kong Polytechnic University","Institution_ID":"None","Institution_Country":"China"},{"Institution":"Shanghai Institute of Microsystem","Institution_ID":"None","Institution_Country":"China"}],"Keyword_Year":[{"Keyword":"Machine Learning","Keyword_Domain":"None","Articles_Num":"2339","Articles_High":"1076","Rel_Author":[{"Full_Name":"Christopher K. I. Williams","Author_Email":"None","Author_Name":"Christopher K. I. Williams","Author_ID":"None"},{"Full_Name":"Carl E. Rasmussen","Author_Email":"None","Author_Name":"Carl E. Rasmussen","Author_ID":"None"}],"Rel_Paper":[{"Paper_Title":"A Machine Learning Approach to Routing","Paper_Journal":"None","Paper_Year":"None"},{"Paper_Title":"Machine Learning With Big Data: Challenges and Approaches","Paper_Journal":"None","Paper_Year":"None"}]},{"Keyword":"Deep Learning","Keyword_Domain":"None","Articles_Num":"1098","Articles_High":"389","Rel_Author":[{"Full_Name":"Yoshua Bengio","Author_Email":"None","Author_Name":"Yoshua Bengio","Author_ID":"None"},{"Full_Name":"Geoffrey E. Hinton","Author_Email":"None","Author_Name":"Geoffrey E. Hinton","Author_ID":"None"}],"Rel_Paper":[{"Paper_Title":"Deep Learning in Neural Networks: An Overview","Paper_Journal":"None","Paper_Year":"None"},{"Paper_Title":"Detection Algorithms for Communication Systems Using Deep Learning","Paper_Journal":"None","Paper_Year":"None"}]},{"Keyword":"Deep Architecture","Keyword_Domain":"None","Articles_Num":"176","Articles_High":"142","Rel_Author":[{"Full_Name":"Simon","Author_Email":"None","Author_Name":"Simon",  "Author_ID":"None"},{"Full_Name":"Osindero","Author_Email":"None","Author_Name":"Osindero",    "Author_ID":"None"}],"Rel_Paper":[{"Paper_Title":"A Fast Learning Algorithm for Deep Belief Nets","Paper_Journal":"None","Paper_Year":"None"},{"Paper_Title":"Understanding deep learning requires rethinking generalization","Paper_Journal":"None","Paper_Year":"None"}]},{"Keyword":"Face Recognition","Keyword_Domain":"None","Articles_Num":"156","Articles_High":"144","Rel_Author":[{"Full_Name":"Marcin","Author_Email":"None","Author_Name":"Marcin",    "Author_ID":"None"},{"Full_Name":"Grzegorzek","Author_Email":"None","Author_Name":"Grzegorzek",    "Author_ID":"None"}],"Rel_Paper":[{"Paper_Title":"Where computer vision needs help from computer science","Paper_Journal":"None","Paper_Year":"None"},{"Paper_Title":"Mastering the game of Go with deep neural networks and tree search","Paper_Journal":"None","Paper_Year":"None"}]},{"Keyword":"Artificial Intellegence","Keyword_Domain":"None","Articles_Num":"133","Articles_High":"122","Rel_Author":[{"Full_Name":"Xenopoulos","Author_Email":"None","Author_Name":"Xenopoulos",    "Author_ID":"None"},{"Full_Name":"Micheal","Author_Email":"None","Author_Name":"Micheal",  "Author_ID":"None"}],"Rel_Paper":[{"Paper_Title":"Human-level control through deep reinforcement learning","Paper_Journal":"None","Paper_Year":"None"},{"Paper_Title":"Learning Deep Belief Networks from Non-stationary Streams","Paper_Journal":"None","Paper_Year":"None"}]}],"Keyword_All":[{"Keyword":"Face Recognition","Keyword_Domain":"None","Articles_Num":"2035","Articles_High":"944","Rel_Author":  [{"Full_Name":"Rama Chellappa","Author_Email":"None","Author_Name":"Rama Chellappa","Author_ID":"None"},{"Full_Name":"Matti Pietikäinen","Author_Email":"None","Author_Name":"Matti Pietikäinen","Author_ID":"None"}],"Rel_Paper":  [{"Paper_Title":"Attention-Set based Metric Learning for Video Face Recognition","Paper_Journal":"None","Paper_Year":"None"},{"Paper_Title":"Longitudinal Study of Automatic Face Recognition.","Paper_Journal":"None","Paper_Year":"None"}]},{"Keyword":"Artificial Intelligence","Keyword_Domain":"None","Articles_Num":"3919","Articles_High":"1133","Rel_Author":  [{"Full_Name":"Aaron Sloman","Author_Email":"None","Author_Name":"Aaron Sloman","Author_ID":"None"},{"Full_Name":"Sven Koenig","Author_Email":"None","Author_Name":"Sven Koenig","Author_ID":"None"}],"Rel_Paper":[{"Paper_Title":"Artificial Intelligence Techniques in Computer Graphics","Paper_Journal":"None","Paper_Year":"None"},{"Paper_Title":"Improving Group Decision-Making by Artificial Intelligence","Paper_Journal":"None","Paper_Year":"None"}]},{"Keyword":"Machine Learning","Keyword_Domain":"None","Articles_Num":"203","Articles_High":"176","Rel_Author":[{"Full_Name":"Yoshua","Author_Email":"None","Author_Name":"Yoshua",    "Author_ID":"None"},{"Full_Name":"Samy Ben","Author_Email":"None","Author_Name":"Samy Ben",    "Author_ID":"None"}],"Rel_Paper":[{"Paper_Title":"Is bottom-up attention useful for object recognition?","Paper_Journal":"None","Paper_Year":"None"},{"Paper_Title":"Understanding deep learning requires rethinking generalization","Paper_Journal":"None","Paper_Year":"None"}]},{"Keyword":"Deep Learning","Keyword_Domain":"None","Articles_Num":"198","Articles_High":"189","Rel_Author":[{"Full_Name":"Bengio","Author_Email":"None","Author_Name":"Bengio",    "Author_ID":"None"},{"Full_Name":"Lancelot","Author_Email":"None","Author_Name":"Lancelot",    "Author_ID":"None"}],"Rel_Paper":[{"Paper_Title":"Deep Learning","Paper_Journal":"None","Paper_Year":"None"},{"Paper_Title":"Multimodal Deep Learning","Paper_Journal":"None","Paper_Year":"None"}]},{"Keyword":"Deep Architecture","Keyword_Domain":"None","Articles_Num":"176","Articles_High":"142","Rel_Author":[{"Full_Name":"Simon","Author_Email":"None","Author_Name":"Simon",  "Author_ID":"None"},{"Full_Name":"Osindero","Author_Email":"None","Author_Name":"Osindero",    "Author_ID":"None"}],"Rel_Paper":[{"Paper_Title":"A Fast Learning Algorithm for Deep Belief Nets","Paper_Journal":"None","Paper_Year":"None"},{"Paper_Title":"Understanding deep learning requires rethinking generalization","Paper_Journal":"None","Paper_Year":"None"}]}],"Paper_Year":[{"Paper_Title":"Where computer vision needs help from computer science","Paper_Journal":"","Paper_Year":"2011","Paper_Level":"A","Paper_Author":[{"Full_Name":"William T. Freeman","Author_Email":"None","Author_Name":"William T. Freeman", "Author_ID":"None"}],"Cited_Num":"20","Cited_High":"14"},{"Paper_Title":"Understanding deep learning requires rethinking generalization","Paper_Journal":"","Paper_Year":"2016","Paper_Level":"B","Paper_Author":[{"Full_Name":"Chiyuan Zhang","Author_Email":"None","Author_Name":"Chiyuan Zhang","Author_ID":"None"}],"Cited_Num":"19","Cited_High":"14"},{"Paper_Title":"A Fast Learning Algorithm for Deep Belief Nets","Paper_Journal":"","Paper_Year":"2006","Paper_Level":"A","Paper_Author":[{"Full_Name":"Yee Whye Teh","Author_Email":"None","Author_Name":"Yee Whye Teh", "Author_ID":"None"}],"Cited_Num":"17","Cited_High":"13"},{"Paper_Title":"Is bottom-up attention useful for object recognition?","Paper_Journal":"","Paper_Year":"2017","Paper_Level":"B","Paper_Author":[{"Full_Name":"Ueli Rutishauser","Author_Email":"None","Author_Name":"Ueli Rutishauser", "Author_ID":"None"}],"Cited_Num":"15","Cited_High":"11"},{"Paper_Title":"Human-level control through deep reinforcement learning","Paper_Journal":"","Paper_Year":"2015","Paper_Level":"A","Paper_Author":[{"Full_Name":"Demis Hassabis","Author_Email":"None","Author_Name":"Demis Hassabis", "Author_ID":"None"}],"Cited_Num":"13","Cited_High":"8"}],"Paper_All":[{"Paper_Title":"Is bottom-up attention useful for object recognition?","Paper_Journal":"","Paper_Year":"2017","Paper_Level":"B","Paper_Author":[{"Full_Name":"Ueli Rutishauser","Author_Email":"None","Author_Name":"Ueli Rutishauser", "Author_ID":"None"}],"Cited_Num":"15","Cited_High":"11"},{"Paper_Title":"Human-level control through deep reinforcement learning","Paper_Journal":"","Paper_Year":"2015","Paper_Level":"A","Paper_Author":[{"Full_Name":"Demis Hassabis","Author_Email":"None","Author_Name":"Demis Hassabis", "Author_ID":"None"}],"Cited_Num":"13","Cited_High":"8"},{"Paper_Title":"Where computer vision needs help from computer science","Paper_Journal":"","Paper_Year":"2011","Paper_Level":"A","Paper_Author":[{"Full_Name":"William T. Freeman","Author_Email":"None","Author_Name":"William T. Freeman", "Author_ID":"None"}],"Cited_Num":"20","Cited_High":"14"},{"Paper_Title":"Understanding deep learning requires rethinking generalization","Paper_Journal":"","Paper_Year":"2016","Paper_Level":"B","Paper_Author":[{"Full_Name":"Chiyuan Zhang","Author_Email":"None","Author_Name":"Chiyuan Zhang",   "Author_ID":"None"}],"Cited_Num":"19","Cited_High":"14"},{"Paper_Title":"A Fast Learning Algorithm for Deep Belief Nets","Paper_Journal":"","Paper_Year":"2006","Paper_Level":"A","Paper_Author":  [{"Full_Name":"Yee Whye Teh","Author_Email":"None","Author_Name":"Yee Whye Teh", "Author_ID":"None"}],"Cited_Num":"17","Cited_High":"13"}],"Newbee_Year":[{"Full_Name":"Yoshua","Author_Email":"None","Author_Name":"Yoshua","Author_ID":"None","Author_Level": "R0","Articles_Num":"176","Articles_High":"96","Cited_Num":"146","Cited_High":"76","Belong_Institution":{"Institution":"ARM Inc.","Institution_ID":"None","Institution_Country": "Amarica"}},{"Full_Name":"Bengio","Author_Email":"None","Author_Name":"Bengio","Author_ID":"None","Author_Level": "R0","Articles_Num":"145","Articles_High":"80","Cited_Num":"122","Cited_High":"62","Belong_Institution":{"Institution":"UESTC","Institution_ID":"None","Institution_Country": "China"}},{"Full_Name":"Micheal","Author_Email":"None","Author_Name":"Micheal","Author_ID":"None","Author_Level": "R0","Articles_Num":"133","Articles_High":"78","Cited_Num":"111","Cited_High":"66","Belong_Institution":{"Institution":"ARM Inc.","Institution_ID":"None","Institution_Country": "Amarica"}},{"Full_Name":"Samy Ben","Author_Email":"None","Author_Name":"Samy Ben","Author_ID":"None","Author_Level": "R1","Articles_Num":"92","Articles_High":"74","Cited_Num":"75","Cited_High":"64","Belong_Institution":{"Institution":"Shanghai Institute of Microsystem","Institution_ID":"None","Institution_Country": "Australia"}},{"Full_Name":"Grace","Author_Email":"None","Author_Name":"Grace","Author_ID":"None","Author_Level": "R1","Articles_Num":"87","Articles_High":"65","Cited_Num":"75","Cited_High":"56","Belong_Institution":{"Institution":"BAMT","Institution_ID":"None","Institution_Country": "Germany"}},{"Full_Name":"Peter","Author_Email":"None","Author_Name":"Peter","Author_ID":"None","Author_Level": "R1","Articles_Num":"66","Articles_High":"56","Cited_Num":"63","Cited_High":"53","Belong_Institution":{"Institution":"YTMK","Institution_ID":"None","Institution_Country": "Japan"}}],"Newbee_All":[{"Full_Name":"Yoshua","Author_Email":"None","Author_Name":"Yoshua","Author_ID":"None","Author_Level": "R0","Articles_Num":"76","Articles_High":"56","Cited_Num":"46","Cited_High":"36","Belong_Institution":{"Institution":"ARM Inc.","Institution_ID":"None","Institution_Country": "Amarica"}},{"Full_Name":"Bengio","Author_Email":"None","Author_Name":"Bengio","Author_ID":"None","Author_Level": "R0","Articles_Num":"73","Articles_High":"60","Cited_Num":"43","Cited_High":"26","Belong_Institution":{"Institution":"UESTC","Institution_ID":"None","Institution_Country": "China"}},{"Full_Name":"Samy Ben","Author_Email":"None","Author_Name":"Samy Ben","Author_ID":"None","Author_Level": "R1","Articles_Num":"52","Articles_High":"24","Cited_Num":"35","Cited_High":"14","Belong_Institution":{"Institution":"Shanghai Institute of Microsystem","Institution_ID":"None","Institution_Country": "Australia"}},{"Full_Name":"Marcin","Author_Email":"None","Author_Name":"Marcin","Author_ID":"None","Author_Level": "R2","Articles_Num":"46","Articles_High":"34","Cited_Num":"56","Cited_High":"23","Belong_Institution": { "Institution":"Beijing Institute of Computer Science","Institution_ID":"None","Institution_Country": "Amarica"}},{"Full_Name":"Grzegorzek","Author_Email":"None","Author_Name":"Grzegorzek","Author_ID":"None","Author_Level": "R2","Articles_Num":"45","Articles_High":"22","Cited_Num":"34","Cited_High":"25","Belong_Institution":{"Institution":"UESTC","Institution_ID":"None","Institution_Country": "China"}},{"Full_Name":"Xenopoulos","Author_Email":"None","Author_Name":"Xenopoulos","Author_ID":"None","Author_Level": "R3","Articles_Num":"39","Articles_High":"13","Cited_Num":"26","Cited_High":"12","Belong_Institution": { "Institution":"Beijing Institute of Computer Science","Institution_ID":"None","Institution_Country": "Amarica"}}]}';
    var obj_rank = $.parseJSON(rank_data);
    fill_author(obj_rank.Author_All,obj_rank.Author_Year);
    fill_journal(obj_rank.Journal_All,obj_rank.Journal_Year);
    fill_org(obj_rank.Institution_All,obj_rank.Institution_Year);
    fill_keyword(obj_rank.Keyword_All,obj_rank.Keyword_Year);
    fill_paper(obj_rank.Paper_All,obj_rank.Paper_Year);
    fill_new(obj_rank.Newbee_All,obj_rank.Newbee_Year);
    /*----------填充函数--------*/
    var div_str, link_str1, link_str2;
    function fill_author(auth_all,auth_year){
        div_str = '';
        link_str1 = '';
        link_str2 = '';
        $.each(auth_all,function(n,value){
            div_str = '<tr>';
            link_str1 = '/authorDetail/?Author_Name='+$.base64.encode(encodeURI(value.Author_Name))+'&Author_Email='+$.base64.encode(encodeURI(value.Author_Email))+'&Author_ID='+$.base64.encode(encodeURI(value.Author_ID));
            div_str += '<td><h3 class="rankR"><a href=' + link_str1 + '>' + value.Full_Name + '</a></h3><div class="item_info">';
            link_str1 = '/institution/?Institution='+$.base64.encode(encodeURI(value.Belong_Institution.Institution))+'&InstitutionId='+$.base64.encode(encodeURI(value.Belong_Institution.InstitutionId)); 
            div_str += '所属机构：<a href=' + link_str1 + '>' + value.Belong_Institution.Institution + '</a></div><div class="item_info"><span class="high">' + value.Articles_High + '</span><span class="paper_num">' + value.Articles_Num + '</span><span class="divide">—</span><span class="high_cite">' + value.Cited_High + '</span><span class="cite">' + value.Cited_Num + '</span></div></td>';

            link_str1 = '/authorDetail/?Author_Name='+$.base64.encode(encodeURI(auth_year[n].Author_Name))+'&Author_Email='+$.base64.encode(encodeURI(auth_year[n].Author_Email))+'&Author_ID='+$.base64.encode(encodeURI(auth_year[n].Author_ID));
            div_str += '<td><h3 class="rankR"><a href=' + link_str1 + '>' + auth_year[n].Full_Name + '</a></h3><div class="item_info">';
            link_str1 = '/institution/?Institution='+$.base64.encode(encodeURI(auth_year[n].Belong_Institution.Institution))+'&InstitutionId='+$.base64.encode(encodeURI(auth_year[n].Belong_Institution.InstitutionId)); 
            div_str += '所属机构：<a href=' + link_str1 + '>' + auth_year[n].Belong_Institution.Institution + '</a></div><div class="item_info"><span class="high">' + auth_year[n].Articles_High + '</span><span class="paper_num">' + auth_year[n].Articles_Num + '</span><span class="divide">—</span><span class="high_cite">' + auth_year[n].Cited_High + '</span><span class="cite">' + auth_year[n].Cited_Num + '</span></div></td>';
            div_str += '</tr>';
            $('#tb_auth').find('tbody').append(div_str);
        });
    }
    function fill_journal(jour_all,jour_year){
        div_str = '';
        link_str1 = '';
        link_str2 = '';
        $.each(jour_all,function(n,value){
            div_str = '<tr>';
            link_str1 = '/journaldetail/?Journal='+$.base64.encode(encodeURI(value.Journal));
            div_str += '<td><h3 class="rankA"><a href=' + link_str1 + '>' + value.Journal + '</a></h3></td>';
            
            link_str1 = '/journaldetail/?Journal='+$.base64.encode(encodeURI(jour_year[n].Journal));
            div_str += '<td><h3 class="rankA"><a href=' + link_str1 + '>' + jour_year[n].Journal + '</a></h3></td>';
            div_str += '</tr>';
            $('#tb_jour').find('tbody').append(div_str);
        });
    }
    function fill_org(org_all,org_year){
        div_str = '';
        link_str1 = '';
        link_str2 = '';
        $.each(org_all,function(n,value){
            div_str = '<tr>';
            link_str1 = '/institution/?Institution='+$.base64.encode(encodeURI(value.Institution))+'&InstitutionId='+$.base64.encode(encodeURI(value.InstitutionId)); 
            div_str += '<td><h3><a href=' + link_str1 + '>' + value.Institution + '</a></h3><div class="item_info">国家：' + value.Institution_Country + '</div></td>';
            
            link_str1 = '/institution/?Institution='+$.base64.encode(encodeURI(org_year[n].Institution))+'&InstitutionId='+$.base64.encode(encodeURI(org_year[n].InstitutionId)); 
            div_str += '<td><h3><a href=' + link_str1 + '>' + org_year[n].Institution + '</a></h3><div class="item_info">国家：' + org_year[n].Institution_Country + '</div></td>';
            div_str += '</tr>';
            $('#tb_org').find('tbody').append(div_str);
        });
    }
    function fill_keyword(key_all,key_year){
        div_str = '';
        link_str1 = '';
        link_str2 = '';
        $.each(key_all,function(n,value){
            div_str = '<tr>';
            link_str1 = '/keywordDetail/?Keyword='+$.base64.encode(encodeURI(value.Keyword))+'&Keyword_Domain='+$.base64.encode(encodeURI(value.Keyword_Domain));
            div_str += '<td><h3><a href=' + link_str1 + '>' + value.Keyword + '</a></h3><div class="item_info">';
            link_str1 = '/authorDetail/?Author_Name='+$.base64.encode(encodeURI(value.Rel_Author[0].Author_Name))+'&Author_Email='+$.base64.encode(encodeURI(value.Rel_Author[0].Author_Email))+'&Author_ID='+$.base64.encode(encodeURI(value.Rel_Author[0].Author_ID));
            link_str2 = '/authorDetail/?Author_Name='+$.base64.encode(encodeURI(value.Rel_Author[1].Author_Name))+'&Author_Email='+$.base64.encode(encodeURI(value.Rel_Author[1].Author_Email))+'&Author_ID='+$.base64.encode(encodeURI(value.Rel_Author[1].Author_ID));
            div_str +=  '作者：<a href=' + link_str1 + '>' + value.Rel_Author[0].Full_Name + '</a> , <a href=' + link_str2 + '>' + value.Rel_Author[1].Full_Name + '</a></div><div class="item_info"><span>文章：</span>';
            link_str1 = '/paperDetail/?Paper_Title='+$.base64.encode(encodeURI(value.Rel_Paper[0].Paper_Title))+'&Paper_Journal='+$.base64.encode(encodeURI(value.Rel_Paper[0].Paper_Journal))+'&Paper_Year='+$.base64.encode(encodeURI(value.Rel_Paper[0].Paper_Year));
            link_str2 = '/paperDetail/?Paper_Title='+$.base64.encode(encodeURI(value.Rel_Paper[1].Paper_Title))+'&Paper_Journal='+$.base64.encode(encodeURI(value.Rel_Paper[1].Paper_Journal))+'&Paper_Year='+$.base64.encode(encodeURI(value.Rel_Paper[1].Paper_Year));
            div_str += '<ul><li><a href=' + link_str1 + '>' + value.Rel_Paper[0].Paper_Title + '</a></li><li><a href=' + link_str1 + '>' + value.Rel_Paper[1].Paper_Title + '</a></li></ul></div>';
            div_str += '<div class="item_info"><span class="high">' + value.Articles_High + '</span><span class="paper_num">' + value.Articles_Num +'</span></div></td>';
            
            link_str1 = '/keywordDetail/?Keyword='+$.base64.encode(encodeURI(key_year[n].Keyword))+'&Keyword_Domain='+$.base64.encode(encodeURI(key_year[n].Keyword_Domain));
            div_str += '<td><h3><a href=' + link_str1 + '>' + key_year[n].Keyword + '</a></h3><div class="item_info">';
            link_str1 = '/authorDetail/?Author_Name='+$.base64.encode(encodeURI(key_year[n].Rel_Author[0].Author_Name))+'&Author_Email='+$.base64.encode(encodeURI(key_year[n].Rel_Author[0].Author_Email))+'&Author_ID='+$.base64.encode(encodeURI(key_year[n].Rel_Author[0].Author_ID));
            link_str2 = '/authorDetail/?Author_Name='+$.base64.encode(encodeURI(key_year[n].Rel_Author[1].Author_Name))+'&Author_Email='+$.base64.encode(encodeURI(key_year[n].Rel_Author[1].Author_Email))+'&Author_ID='+$.base64.encode(encodeURI(key_year[n].Rel_Author[1].Author_ID));
            div_str +=  '作者：<a href=' + link_str1 + '>' + key_year[n].Rel_Author[0].Full_Name + '</a> , <a href=' + link_str2 + '>' + key_year[n].Rel_Author[1].Full_Name + '</a></div><div class="item_info"><span>文章：</span>';
            link_str1 = '/paperDetail/?Paper_Title='+$.base64.encode(encodeURI(key_year[n].Rel_Paper[0].Paper_Title))+'&Paper_Journal='+$.base64.encode(encodeURI(key_year[n].Rel_Paper[0].Paper_Journal))+'&Paper_Year='+$.base64.encode(encodeURI(key_year[n].Rel_Paper[0].Paper_Year));
            link_str2 = '/paperDetail/?Paper_Title='+$.base64.encode(encodeURI(key_year[n].Rel_Paper[1].Paper_Title))+'&Paper_Journal='+$.base64.encode(encodeURI(key_year[n].Rel_Paper[1].Paper_Journal))+'&Paper_Year='+$.base64.encode(encodeURI(key_year[n].Rel_Paper[1].Paper_Year));
            div_str += '<ul><li><a href=' + link_str1 + '>' + key_year[n].Rel_Paper[0].Paper_Title + '</a></li><li><a href=' + link_str1 + '>' + key_year[n].Rel_Paper[1].Paper_Title + '</a></li></ul></div>';
            div_str += '<div class="item_info"><span class="high">' + key_year[n].Articles_High + '</span><span class="paper_num">' + key_year[n].Articles_Num +'</span></div></td>';
            div_str += '</tr>';
            $('#tb_key').find('tbody').append(div_str);
        });
    }
    function fill_paper(paper_all,paper_year){
        div_str = '';
        link_str1 = '';
        link_str2 = '';
        $.each(paper_all,function(n,value){
            div_str = '<tr>';
            link_str1 = '/paperDetail/?Paper_Title='+$.base64.encode(encodeURI(value.Paper_Title))+'&Paper_Journal='+$.base64.encode(encodeURI(value.Paper_Journal))+'&Paper_Year='+$.base64.encode(encodeURI(value.Paper_Year));
            div_str += '<td><h3 class="rankA"><a href=' + link_str1 + '>' + value.Paper_Title + '</a></h3><div class="item_info">';
            link_str1 = '/authorDetail/?Author_Name='+$.base64.encode(encodeURI(value.Paper_Author[0].Author_Name))+'&Author_Email='+$.base64.encode(encodeURI(value.Paper_Author[0].Author_Email))+'&Author_ID='+$.base64.encode(encodeURI(value.Paper_Author[0].Author_ID));
            div_str += '<a class="author" href=' + link_str1 + '>' + value.Paper_Author[0].Full_Name + '</a> - <span>' + value.Paper_Year + '</span></div>';
            div_str += '<div class="item_info"><span class="high_cite">' + value.Cited_High + '</span><span class="cite">' + value.Cited_Num + '</span></div></td>';
            
            link_str1 = '/paperDetail/?Paper_Title='+$.base64.encode(encodeURI(paper_year[n].Paper_Title))+'&Paper_Journal='+$.base64.encode(encodeURI(paper_year[n].Paper_Journal))+'&Paper_Year='+$.base64.encode(encodeURI(paper_year[n].Paper_Year));
            div_str += '<td><h3 class="rankA"><a href=' + link_str1 + '>' + paper_year[n].Paper_Title + '</a></h3><div class="item_info">';
            link_str1 = '/authorDetail/?Author_Name='+$.base64.encode(encodeURI(paper_year[n].Paper_Author[0].Author_Name))+'&Author_Email='+$.base64.encode(encodeURI(paper_year[n].Paper_Author[0].Author_Email))+'&Author_ID='+$.base64.encode(encodeURI(paper_year[n].Paper_Author[0].Author_ID));
            div_str += '<a class="author" href=' + link_str1 + '>' + paper_year[n].Paper_Author[0].Full_Name + '</a> - <span>' + paper_year[n].Paper_Year + '</span></div>';
            div_str += '<div class="item_info"><span class="high_cite">' + paper_year[n].Cited_High + '</span><span class="cite">' + paper_year[n].Cited_Num + '</span></div></td>';
            div_str += '</tr>';
            $('#tb_pap').find('tbody').append(div_str);
        });
    }
    function fill_new(new_all,new_year){
        div_str = '';
        link_str1 = '';
        link_str2 = '';
        $.each(new_all,function(n,value){
            div_str = '<tr>';
            link_str1 = '/authorDetail/?Author_Name='+$.base64.encode(encodeURI(value.Author_Name))+'&Author_Email='+$.base64.encode(encodeURI(value.Author_Email))+'&Author_ID='+$.base64.encode(encodeURI(value.Author_ID));
            div_str += '<td><h3 class="rankR"><a href=' + link_str1 + '>' + value.Full_Name + '</a></h3><div class="item_info">';
            link_str1 = '/institution/?Institution='+$.base64.encode(encodeURI(value.Belong_Institution.Institution))+'&InstitutionId='+$.base64.encode(encodeURI(value.Belong_Institution.InstitutionId)); 
            div_str += '所属机构：<a href=' + link_str1 + '>' + value.Belong_Institution.Institution + '</a></div><div class="item_info"><span class="high">' + value.Articles_High + '</span><span class="paper_num">' + value.Articles_Num + '</span><span class="divide">—</span><span class="high_cite">' + value.Cited_High + '</span><span class="cite">' + value.Cited_Num + '</span></div></td>';

            link_str1 = '/authorDetail/?Author_Name='+$.base64.encode(encodeURI(new_year[n].Author_Name))+'&Author_Email='+$.base64.encode(encodeURI(new_year[n].Author_Email))+'&Author_ID='+$.base64.encode(encodeURI(new_year[n].Author_ID));
            div_str += '<td><h3 class="rankR"><a href=' + link_str1 + '>' + new_year[n].Full_Name + '</a></h3><div class="item_info">';
            link_str1 = '/institution/?Institution='+$.base64.encode(encodeURI(new_year[n].Belong_Institution.Institution))+'&InstitutionId='+$.base64.encode(encodeURI(new_year[n].Belong_Institution.InstitutionId)); 
            div_str += '所属机构：<a href=' + link_str1 + '>' + new_year[n].Belong_Institution.Institution + '</a></div><div class="item_info"><span class="high">' + new_year[n].Articles_High + '</span><span class="paper_num">' + new_year[n].Articles_Num + '</span><span class="divide">—</span><span class="high_cite">' + new_year[n].Cited_High + '</span><span class="cite">' + new_year[n].Cited_Num + '</span></div></td>';
            div_str += '</tr>';
            $('#tb_nauth').find('tbody').append(div_str);
        });
    }
    //分页
    function pager() {
        var table = $(".result_list table tbody tr");
        var pager = $("#pagerArea");
        pager.cypager({pg_size: 20, pg_nav_count: 6, pg_total_count: 21});
        var page_now = 0;
        for( i=0;i<20;i++){
            table.eq(i).show();
        }
        $(".pager li").click(function () {
            $(".result_list").css("padding-bottom",0);
            page_now = parseInt($(".pager li.pg-selected").text())-1;
            table.hide();
            for( i=page_now*20;i<(page_now+1)*20;i++){
                table.eq(i).show();
            }
            if(document.body.clientHeight < window.screen.availHeight){
                $(".result_list").css("padding-bottom",window.screen.availHeight-document.body.clientHeight);
            }
        });
        pager.show();
    }

    // 显示过长机构等标题过长显示
    function showMessageBox(obj, event){
        obj.css("top", event.pageY+20);
        obj.css("left", event.pageX+1);
        obj.show();
    }
    /*------切换排行榜类别------*/
    $('#rank_typy').on('click','li',function(){
        var select_li = $(this);
        var select_bef = $('ul').find('.rSelected');
        if(select_li.text() != select_bef.text()){
            select_li.addClass('rSelected').siblings().removeClass('rSelected');
            $('table').slideUp();
            setTimeout(function(){switch(select_li.text()){
                case '作者':
                    $('#tb_auth').slideDown();
                    break;
                case '机构':
                    $('#tb_org').slideDown();
                    break;
                case '刊物':
                    $('#tb_jour').slideDown();
                    break;
                case '关键词':
                    $('#tb_key').slideDown();
                    break;
                case '文章':
                    $('#tb_pap').slideDown();
                    break;
                case '新人':
                    $('#tb_nauth').slideDown();
                    break;
            }},350);
        }
    });
})